blog
====

The Informatics Young-Team blog.


Setting up locally
------------------

This blog is static site, generated by [Hakyll][].

The site-generating-wotsit can be compiled from `site.hs`, which may
change. If `site.hs` ever *does* change, run the following commands
to recompile everything:

```bash
ghc --make site.hs
./site rebuild
```

You can test the site locally by running `./site preview`.

To upload the site, you need to copy `post-commit` into your local Git hooks
(because Git doesn't keep track of them) and mark it executable:

```bash
cp post-commit .git/hooks/post-commit
chmod +x .git/hooks/post-commit
```

There is a [tutorial about templates on the Hakyll site][templating].


Adding posts
------------

Posts are written in [Pandoc markdown][], and are placed in `posts/`
with a filename of `post-slug.md`, where `post-slug` is
a human-shareable URL.

Each post is preceded by a 'metadata block', where you *must* provide
a `title`, a `description`, an `author`, and a `date` attribute.

```markdown
---
title: MY AWESOME POST ON DATA FREEDOM!!!
description: So yeah, we need more of that stuff, right?
published: 2013-03-27
author: me
---

(... post content ...)
```

After you've written a post, you can `git push` back up to GitHub, and
then `git push production` which sends it out onto [the WWW][inf-yt]!


<!-- references -->

[Hakyll]: http://jaspervdj.be/hakyll/
[templating]: http://jaspervdj.be/hakyll/tutorials/04-compilers.html#templates
[Pandoc markdown]: http://www.johnmacfarlane.net/pandoc/README.html#pandocs-markdown
[inf-yt]: http://inf-yt.org.uk/
